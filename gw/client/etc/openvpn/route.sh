#!/bin/bash



REMOUTE_NETS="8.8.8.8/32 23.239.1.72/32 118.184.180.46/32 52.71.51.30/32"

# Google
REMOUTE_NETS="${REMOUTE_NETS} 172.0.0.0/8 173.0.0.0/8 216.0.0.0/8 74.0.0.0/8 209.0.0.0/8 216.58.0.0/16"

# Facebook
REMOUTE_NETS="${REMOUTE_NETS} 31.13.0.0/16"

# Twitter
REMOUTE_NETS="${REMOUTE_NETS} 104.244.0.0/14"

# AWS Global
REMOUTE_NETS="${REMOUTE_NETS} 54.192.0.0/16"


# www.invisionapp.com
#REMOUTE_NETS="${REMOUTE_NETS} 54.0.0.0/8 52.0.0.0/8"


# AWS us-east-1
REMOUTE_NETS="${REMOUTE_NETS} 23.20.0.0/14 23.20.0.0/14 34.192.0.0/12 34.192.0.0/12 50.16.0.0/15 50.16.0.0/15 50.19.0.0/16 50.19.0.0/16 52.0.0.0/15 52.0.0.0/15 52.119.224.0/21 52.119.232.0/21 52.200.0.0/13 52.200.0.0/13 52.20.0.0/14 52.20.0.0/14 52.2.0.0/15 52.2.0.0/15 52.216.0.0/15 52.4.0.0/14 52.4.0.0/14 52.44.0.0/15 52.44.0.0/15 52.54.0.0/15 52.54.0.0/15 52.70.0.0/15 52.70.0.0/15 52.72.0.0/15 52.72.0.0/15 52.86.0.0/15 52.86.0.0/15 52.90.0.0/15 52.90.0.0/15 52.92.16.0/20 52.93.1.0/24 52.93.3.0/24 52.93.4.0/24 52.94.0.0/22 52.94.192.0/22 52.94.224.0/20 52.94.240.0/22 52.94.248.0/22 52.94.252.0/23 52.94.254.0/23 52.95.245.0/24 52.95.245.0/24 52.95.255.80/28 52.95.255.80/28 52.95.48.0/22 52.95.52.0/22 52.95.62.0/24 52.95.63.0/24 54.144.0.0/14 54.144.0.0/14 54.152.0.0/16 54.152.0.0/16 54.156.0.0/14 54.156.0.0/14 54.160.0.0/13 54.160.0.0/13 54.172.0.0/15 54.172.0.0/15 54.174.0.0/15 54.174.0.0/15 54.196.0.0/15 54.196.0.0/15 54.198.0.0/16 54.198.0.0/16 54.204.0.0/15 54.204.0.0/15 54.208.0.0/15 54.208.0.0/15 54.210.0.0/15 54.210.0.0/15 54.221.0.0/16 54.221.0.0/16 54.224.0.0/15 54.224.0.0/15 54.226.0.0/15 54.226.0.0/15 54.231.0.0/17 54.234.0.0/15 54.234.0.0/15 54.236.0.0/15 54.236.0.0/15 54.239.104.0/23 54.239.108.0/22 54.239.16.0/20 54.239.64.0/21 54.239.8.0/21 54.239.98.0/24 54.240.196.0/24 54.240.202.0/24 54.240.208.0/22 54.240.216.0/22 54.240.228.0/23 54.240.232.0/22 54.242.0.0/15 54.242.0.0/15 54.243.31.192/26 54.80.0.0/13 54.80.0.0/13 54.88.0.0/14 54.88.0.0/14 54.92.128.0/17 54.92.128.0/17 67.202.0.0/18 67.202.0.0/18 72.21.192.0/19 72.44.32.0/19 72.44.32.0/19 75.101.128.0/17 75.101.128.0/17 107.20.0.0/14 107.20.0.0/14 107.23.255.0/26 172.96.97.0/24 174.129.0.0/16 174.129.0.0/16 176.32.120.0/22 176.32.96.0/21 184.72.128.0/17 184.72.128.0/17 184.72.64.0/18 184.72.64.0/18 184.73.0.0/16 184.73.0.0/16 204.236.192.0/18 204.236.192.0/18 205.251.224.0/22 205.251.240.0/22 205.251.244.0/23 205.251.247.0/24 205.251.248.0/24 205.251.255.0/24 207.171.160.0/20 207.171.176.0/20 216.182.224.0/20 216.182.224.0/20"


# grafanarel.s3.amazonaws.com
REMOUTE_NETS="${REMOUTE_NETS} 151.101.0.0/16 "


GW=10.8.0.1


for NET in ${REMOUTE_NETS}; do
	/sbin/ip route add $NET via 10.8.0.1 metric 100
done

exit 0


## Table 1 (all) : All traffic to openvpn peer
ip route add default via 10.8.0.1 table 1
## Table 2 (all) : All traffic to openvpn peer through gcloud(TW)
ip route add default via 10.8.1.1 table 2

## ip rule
ip rule add from 172.16.1.128/25 table 1
ip route flush cache

ip rule add from 172.16.1.128/25 table 1
ip route flush cache
